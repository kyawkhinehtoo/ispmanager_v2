import{o as r,d as l,a as s,n as p,t as m,e as h,m as v,k as R,y as j,Z as O,r as B,s as g,b as w,w as d,F as S,g as k,I as A,f as _,c as x,h as I}from"./app-Dn0wRSZr.js";import{b as L,_ as D,a as M}from"./DropdownLink-DtJWBKR6.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";const N={props:{label:String,showPanel:Boolean,icon:String,isOpen:Boolean,isCollapsed:Boolean,name:String},data(){return{showSubmenu:!1}},inject:["activeSubmenu","setActiveSubmenu"],methods:{toggleSubmenu(){this.isCollapsed?this.showSubmenu&&this.activeSubmenu===this.name?(this.showSubmenu=!1,this.setActiveSubmenu(null)):(this.showSubmenu=!0,this.setActiveSubmenu(this.name)):this.$emit("toggle")}},watch:{activeSubmenu(o){o!==this.name&&(this.showSubmenu=!1)}},emits:["toggle"]},F={key:0,class:"relative group"},T={class:"flex items-center min-w-max"},G={class:"px-2 py-2 text-xs font-bold text-gray-600 uppercase bg-indigo-50"},E={key:1,class:"mt-1 space-y-1"};function q(o,e,t,c,i,a){return t.showPanel?(r(),l("div",F,[s("button",{onClick:e[0]||(e[0]=(...f)=>a.toggleSubmenu&&a.toggleSubmenu(...f)),class:p(["w-full flex items-center justify-between p-2 transition-colors text-gray-600 hover:gray-blue-500 text-xs uppercase py-3 font-bold rounded-md bg-blueGray-100 shadow-sm cursor-pointer focus:border-none",[t.isCollapsed?"px-3":"px-4"]])},[s("div",T,[s("i",{class:p(["w-5",t.icon])},null,2),s("span",{class:p([t.isCollapsed?"opacity-0 group-hover:opacity-100":"opacity-100","ml-3"])},m(t.isCollapsed?"":t.label),3)]),t.isCollapsed?h("",!0):(r(),l("i",{key:0,class:p(["fas transition-transform",t.isOpen?"fa-chevron-down":"fa-chevron-right"])},null,2))],2),t.isCollapsed?(r(),l("div",{key:0,class:p(["fixed left-20 top-5 min-w-[200px] bg-indigo-50 shadow-lg",{hidden:!i.showSubmenu||a.activeSubmenu!==t.name}])},[s("div",null,[s("h6",G,m(t.label),1),v(o.$slots,"default",{showCondition:!0},void 0,!0)])],2)):R((r(),l("div",E,[v(o.$slots,"default",{showCondition:!0},void 0,!0)],512)),[[j,t.isOpen]])])):h("",!0)}const z=C(N,[["render",q],["__scopeId","data-v-d1088b6e"]]),U={components:{JetNavLink:L,ExpandableMenu:z,Head:O,JetDropdown:D,JetDropdownLink:M},provide(){const o=B(null);return{activeSubmenu:o,setActiveSubmenu:e=>{o.value=e}}},data(){return{sidebarOpen:!1,isCollapsed:localStorage.getItem("sidebarCollapsed")==="true",panels:[{name:"admin",label:"Admin",icon:"fas fa-user-tie",isOpen:!1,links:[{show:this.$page.props.role.is_admin==1,name:"User Setup",route:"user.index",icon:"fas fa-user mr-2"},{show:this.$page.props.role.is_admin==1,name:"Role Setup",route:"role.index",icon:"fas fa-user-tag mr-2"},{show:this.$page.props.role.is_admin==1,name:"City Setup",route:"city.index",icon:"fas fa-city mr-2"},{show:this.$page.props.role.is_admin==1,name:"Township Setup",route:"township.index",icon:"fas fa-city mr-2"},{show:this.$page.props.role.is_admin==1,name:"Bundle Setup",route:"equiptment.index",icon:"fas fa-gamepad mr-2"},{show:this.$page.props.role.is_admin==1,name:"Subcom Setup",route:"subcom.index",icon:"fas fa-handshake mr-2"},{show:this.$page.props.role.is_admin==1,name:"POP Setup",route:"pop.index",icon:"fas fa-building mr-2"},{show:this.$page.props.role.is_admin==1,name:"DN Setup",route:"port.index",icon:"fas fa-server mr-2"},{show:this.$page.props.role.is_admin==1,name:"SN Setup",route:"snport.index",icon:"fas fa-network-wired mr-2"},{show:this.$page.props.role.is_admin==1,name:"SLA Setup",route:"sla.index",icon:"fas fa-percentage mr-2"},{show:this.$page.props.role.is_admin==1,name:"Package Setup",route:"package.index",icon:"fas fa-cube mr-2"},{show:this.$page.props.role.is_admin==1,name:"Project Setup",route:"project.index",icon:"fas fa-handshake mr-2"},{show:this.$page.props.role.is_admin==1,name:"Customer Status",route:"status.index",icon:"fas fa-user-tag mr-2"},{show:this.$page.props.role.is_admin==1,name:"Template",route:"template.index",icon:"fas fa-envelope mr-2"},{show:this.$page.props.role.is_admin==1,name:"Announcement",route:"announcement.list",icon:"fas fa-bullhorn mr-2"},{show:this.$page.props.role.is_admin==1,name:"SMS Gateway",route:"smsgateway.index",icon:"fas fa-sms mr-2"},{show:this.$page.props.role.is_admin==1,name:"Radius Config",route:"radiusconfig.index",icon:"fas fa-sms mr-2"},{show:this.$page.props.role.is_admin==1,name:"Billing Config",route:"billconfig.index",icon:"fas fa-sms mr-2"},{show:this.$page.props.role.id==1,name:"System Setting",route:"setting.index",icon:"fas fa-screwdriver-wrench mr-2"}]},{name:"user",label:"User Panel",icon:"fas fa-users",isOpen:!1,links:[{show:!0,name:"Dashboard",route:"dashboard",icon:"fas fa-tv mr-2"},{show:!0,name:"Customer",route:"customer.index",icon:"fas fa-users mr-2"},{show:!0,name:"Service Request",route:"servicerequest.index",icon:"fas fa-tasks mr-2"},{show:!0,name:"Incident Panel",route:"incident.index",icon:"fas fa-arrow-up-right-from-square mr-2 text-blue-600"}]},{name:"billing",label:"Billing Panel",icon:"fas fa-file-invoice",isOpen:!1,links:[{show:this.$page.props.role.bill_generation==1,name:"Bill Generator",route:"billGenerator",icon:"fas fa-cogs mr-2"},{show:this.$page.props.role.bill_generation==1,name:"Temp Bill List",route:"tempBilling",icon:"fas fa-clipboard-list mr-2"},{show:this.$page.props.role.bill_generation==1,name:"Final Bill List",route:"showbill",icon:"fas fa-coins mr-2"},{show:this.$page.props.role.bill_receipt==1,name:"Bill Receipt",route:"receipt.index",icon:"fas fa-file-invoice-dollar mr-2"}]},{name:"report",label:"Report Panel",icon:"fas fa-chart-line",isOpen:!1,links:[{show:this.$page.props.role.incident_report==1,name:"Incident Report",route:"incidentReport",icon:"fas fa-users mr-2"},{show:this.$page.props.role.bill_report==1,name:"Bill Report",route:"dailyreceipt",icon:"fa fa-money-bill mr-2"},{show:this.$page.props.role.radius_report==1,name:"Radius User Report",route:"showRadius",icon:"fas fa-server mr-2"},{show:this.$page.props.role.ip_report==1,name:"IP Usages Report",route:"publicIpReport",icon:"fas fa-server mr-2"},{show:this.$page.props.role.dnsn_report==1,name:"DN SN Report",route:"dnSnReport",icon:"fas fa-tower-broadcast mr-2"},{show:this.$page.props.role.activity_log==1,name:"Activity Log",route:"activity-log.index",icon:"fas fa-circle-info mr-2"}]}]}},computed:{isAdmin(){var o,e,t,c;return console.log("Role ID:",(e=(o=this.$page.props)==null?void 0:o.user)==null?void 0:e.role.id),((c=(t=this.$page.props)==null?void 0:t.user)==null?void 0:c.role.id)===1}},methods:{toggleSidebar(){this.sidebarOpen=!this.sidebarOpen},toggleCollapse(){this.isCollapsed=!this.isCollapsed,localStorage.setItem("sidebarCollapsed",this.isCollapsed)},togglePanel(o){this.panels=this.panels.map(e=>({...e,isOpen:e.name===o?!e.isOpen:!1}))},openPanelForRoute(){const o=route().current().split(".")[0];this.panels.forEach(e=>{e.isOpen=e.links.some(t=>o===t.route.split(".")[0])})},checkActive(o){return route().current().split(".")[0]===o.split(".")[0]},showPanel(o){var e,t,c,i,a,f,b;switch(o){case"admin":return((e=this.$page.props)==null?void 0:e.role.is_admin)==1;case"billing":return((t=this.$page.props)==null?void 0:t.role.bill_generation)==1;case"report":return((c=this.$page.props)==null?void 0:c.role.incident_report)==1||((i=this.$page.props)==null?void 0:i.role.bill_report)==1||((f=(a=this.$page.props)==null?void 0:a.user)==null?void 0:f.role.radius_report)==1||((b=this.$page.props)==null?void 0:b.role.ip_report)==1;case"user":return!0}},logout(){this.$inertia.post(route("logout"))}},created(){this.openPanelForRoute()},watch:{"$page.props":{deep:!0,handler(){this.openPanelForRoute()}}}},V={id:"root"},H={class:"w-full flex justify-between items-center shadow-none shadow-gray-300 shadow-left"},J={href:"javascript:void(0)",class:"text-gray-400 flex items-center w-full"},Y=["src"],Z={key:1,class:"font-bold text-md self-center text-center w-full"},K={class:"px-4 md:px-10 mx-auto w-full my-4"},Q={class:"ml-3 absolute top-8 right-8"},W={key:0,class:"flex text-sm border-2 border-transparent rounded-full focus:outline-none focus:border-gray-300 transition"},X=["src","alt"],ee={key:1,class:"inline-flex rounded-md"},se={type:"button",class:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-gray-500 bg-white hover:text-gray-700 focus:outline-none transition"},oe={class:"p-2"},te={class:"block py-4"},ae={class:"container mx-auto px-4"},re={class:"flex flex-wrap items-center md:justify-between justify-center"},ne={class:"w-full md:w-4/12 px-4"},ie={class:"text-sm text-blueGray-500 font-semibold py-1"},le={class:"w-full md:w-8/12 px-4"},pe={class:"flex flex-wrap list-none md:justify-end justify-center"},ue={class:"text-sm text-blueGray-500 font-semibold py-1"};function de(o,e,t,c,i,a){const f=g("Head"),b=g("jet-nav-link"),$=g("ExpandableMenu"),y=g("jet-dropdown-link"),P=g("jet-dropdown");return r(),l("div",V,[w(f,null,{default:d(()=>[s("title",null,m(o.$page.props.application_name),1),e[3]||(e[3]=s("meta",{name:"description",content:"ISP Manager OSS BSS SYSTEM"},null,-1)),e[4]||(e[4]=s("link",{rel:"icon",type:"image/png",href:"/storage/logos/favicon.png"},null,-1))]),_:1}),s("nav",{class:p(["sm:h-screen overflow-y-auto sm:fixed sm:top-0 sm:left-0 transition-all duration-300 md:overflow-y-auto md:overflow-hidden scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-200",i.isCollapsed?"sm:w-20 z-10":"sm:w-64","dark:bg-gray-900 p-4 scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-200"])},[s("div",H,[s("a",J,[o.$page.props.logo_small?(r(),l("img",{key:0,src:`/storage/${o.$page.props.logo_small}`,alt:"Logo",class:"w-16"},null,8,Y)):h("",!0),i.isCollapsed?h("",!0):(r(),l("span",Z,m(o.$page.props.application_name),1))]),s("button",{class:"text-black md:hidden",onClick:e[0]||(e[0]=(...n)=>a.toggleSidebar&&a.toggleSidebar(...n))},e[5]||(e[5]=[s("i",{class:"fas fa-bars"},null,-1)])),s("button",{onClick:e[1]||(e[1]=(...n)=>a.toggleCollapse&&a.toggleCollapse(...n)),class:"text-blue-900 hidden w-4 md:block focus:ring-0 focus:outline-none -mr-4"},[s("i",{class:p(i.isCollapsed?"fas fa-caret-right":"fas fa-caret-left")},null,2)])]),s("div",{class:p([{hidden:!i.sidebarOpen},"md:flex md:flex-col mt-4 w-full grid grid-cols-1 gap-2"])},[(r(!0),l(S,null,k(i.panels,n=>(r(),x($,{key:n.name,name:n.name,label:n.label,icon:n.icon,isOpen:n.isOpen,isCollapsed:i.isCollapsed,showPanel:a.showPanel(n.name),onToggle:u=>a.togglePanel(n.name)},{default:d(()=>[(r(!0),l(S,null,k(n.links.filter(u=>u.show),u=>(r(),x(b,{key:u.name,href:o.route(u.route),active:a.checkActive(u.route),isCollapsed:i.isCollapsed,class:"flex items-center px-3"},{default:d(()=>[s("i",{class:p([u.icon,"min-w-[20px]"])},null,2),s("span",null,m(u.name),1)]),_:2},1032,["href","active","isCollapsed"]))),128))]),_:2},1032,["name","label","icon","isOpen","isCollapsed","showPanel","onToggle"]))),128))],2)],2),s("div",{class:p(["relative transition-all duration-300",i.isCollapsed?"md:ml-20":"md:ml-64","bg-gray-100 dark:bg-gray-900 h-screen overflow-auto scrollbar-thin scrollbar-thumb-gray-200 scrollbar-track-gray-100"])},[o.$slots.header?(r(),l("header",{key:0,class:"relative w-full bg-blue-900 md:flex-row md:flex-nowrap md:justify-start flex items-center py-4",style:A({backgroundColor:o.$page.props.theme_color})},[s("div",K,[v(o.$slots,"header")]),s("div",Q,[w(P,{align:"right",width:"48"},{trigger:d(()=>[o.$page.props.jetstream.managesProfilePhotos?(r(),l("button",W,[s("img",{class:"h-8 w-8 rounded-full object-cover",src:o.$page.props.auth.user.profile_photo_url,alt:o.$page.props.auth.user.name},null,8,X)])):(r(),l("span",ee,[s("button",se,[_(m(o.$page.props.auth.user.name)+" ",1),e[6]||(e[6]=s("svg",{class:"ml-2 -mr-0.5 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[s("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1))])]))]),content:d(()=>[e[10]||(e[10]=s("div",{class:"block px-4 py-2 text-xs text-gray-400"},"Manage Account",-1)),w(y,{href:o.route("profile.show")},{default:d(()=>e[7]||(e[7]=[_(" Profile ")])),_:1},8,["href"]),o.$page.props.jetstream.hasApiFeatures?(r(),x(y,{key:0,href:o.route("api-tokens.index")},{default:d(()=>e[8]||(e[8]=[_(" API Tokens ")])),_:1},8,["href"])):h("",!0),e[11]||(e[11]=s("div",{class:"border-t border-gray-100"},null,-1)),s("form",{onSubmit:e[2]||(e[2]=I((...n)=>a.logout&&a.logout(...n),["prevent"]))},[w(y,{as:"button"},{default:d(()=>e[9]||(e[9]=[_(" Log Out ")])),_:1})],32)]),_:1})])],4)):h("",!0),s("main",oe,[v(o.$slots,"default")]),s("footer",te,[s("div",ae,[e[12]||(e[12]=s("hr",{class:"mb-4 border-b-1 border-blueGray-200"},null,-1)),s("div",re,[s("div",ne,[s("div",ie," © "+m(new Date().getFullYear()),1)]),s("div",le,[s("ul",pe,[s("li",ue,m(o.$page.props.application_name),1)])])])])])],2)])}const he=C(U,[["render",de]]);export{he as A};
